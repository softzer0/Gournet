<div ng-class="'events_'+r" ng-controller="EventsCtrl">
    <div class="angular-animate" ng-repeat="e in events" ng-cloak><!-- ng-init="$last ? enableAnimation() : angular.noop()" class="{{ events_animation ? 'angular-animate' : '' }}"-->
        <div ng-if="first_name !== undefined" class="mb3">{{ first_name }} <span ng-if="e.person_status != -1">gave {{ e.person_status == 1 ? 'like' : 'dislike' }} to</span><span ng-if="e.person_status == -1">posted</span>:</div>
        <div class="well bs-component clearfix pb18">
            <a ng-if="first_name !== undefined || id === undefined" ng-href="/{{ e.business.shortname }}/">
                <legend>{{ e.business.type_display }} "{{ e.business.name }}"</legend>
                <div class="pb8 pull-left"><img class="bor media-object" ng-src="/images/{{ e.business.id }}/avatar/64/?business=1"></div>
            </a>
            <p class="def">{{ e.text }} <small class="text-muted">&mdash; {{ e.when | timeAgo }}</small></p>
            <div class="op br">
                <a href="#" ng-if="e.curruser_status > -1" ng-class="{'text-warning': e.curruser_status == 1}" ng-click="a.giveDisLike($index, false, r)"><i class="fa fa-plus-square"></i> {{ e.like_count }}</a><span ng-if="e.curruser_status == -1"><i class="fa fa-plus-square"></i> {{ e.like_count }}</span><a href="#" ng-if="e.like_count-e.dislike_count != 0" ng-click="a.showDisLikes($index, r)" class="badge label-primary">{{ e.like_count-e.dislike_count }}</a><span ng-if="e.like_count-e.dislike_count == 0" class="badge">0</span><a href="#" ng-if="e.curruser_status > -1" ng-class="{'text-warning': e.curruser_status == 2}" ng-click="a.giveDisLike($index, true, r)"><i class="fa fa-minus-square"></i> {{ e.dislike_count }}</a><span ng-if="e.curruser_status == -1"><i class="fa fa-minus-square"></i> {{ e.dislike_count }}</span><a href="#"><i class="fa fa-comment"></i> Komentari ({{ e.comment_count }})</a><span ng-if="a.compareDate($index, r)"><a id="rmn" class="clickable" uib-popover-template="'/static/main/modals/reminder.html'" popover-trigger="outsideClick" popover-is-open="cmb.opened" ng-click="initRmn($index)"><i class="fa fa-bell"></i> Podseti me na ovaj događaj</a><a href="#" ng-click="a.notifySelect($index, r)"><i class="fa fa-users"></i> Obavesti prijatelje</a></span><span ng-if="e.curruser_status == -1"><a href="#" ng-dialog-message="Are you sure that you want to delete this event?" ng-dialog-click="a.deleteEvent($index, r)"><i class="fa fa-times"></i> Obriši</a></span>
            </div>
        </div>
        <hr ng-if="a.toggleHr(first_name !== undefined, $last && !r)" class="mpd">
    </div>
</div>