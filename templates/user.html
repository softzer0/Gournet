{% extends 'base/view.html' %}

{% block head %}{{ block.super }}
    {% load staticfiles %}<script src="{% static 'main/js/custom/home_extra.js' %}"></script>
    <script src="{% static 'main/js/custom/user.js' %}"></script>{% endblock %}

{% block bodyatt %}{{ block.super }} ng-init="id = {{ usr.pk }}; u = {friend_count: {{ friend_count }}{% if rel_state > -1 %}, rel_state: {{ rel_state }}}; first_name = '{{ usr.first_name }}'{% else %}}{% endif %}"{% endblock %}

{% block rowatt %}ng-controller="UserCtrl"{% endblock %}

{% block name_content %}{% if usr == request.user %}{% comment %}and not request.user.name_changed{% endcomment %}<div class="inline namef" ng-cloak click-outside="clickOutside(0)" in-scope="documentClick">
                        <a class="n lead text-center" ng-init="edit = [{value: ['{{ usr.first_name }}', '{{ usr.last_name }}'], form: ['{{ usr.first_name }}', '{{ usr.last_name }}'], disabled: true}]" ng-show="edit[0].disabled" ng-click="edit[0].disabled = false">{% verbatim %}{{ edit[0].value[0] }} {{ edit[0].value[1] }}{% endverbatim %}</a><p class="lead text-center" ng-show="edit[0].disabled === undefined">{% verbatim %}{{ edit[0].value[0] }} {{ edit[0].value[1] }}{% endverbatim %}</p>
                        <input type="text" class="form-control" ng-hide="edit[0].disabled || edit[0].disabled === undefined" ng-disabled="edit[0].disabled == null" ng-model="edit[0].form[0]"
                        ><input type="text" class="form-control" ng-hide="edit[0].disabled || edit[0].disabled === undefined" ng-disabled="edit[0].disabled == null" ng-model="edit[0].form[1]">
                        <a class="fa fa-2x fa-check n text-center" ng-show="edit[0].disabled === false" ng-click="doChangeName()"></a>
                    </div>{% else %}<p class="lead text-center br2 ww">{% block name %}{{ usr.first_name }} {{ usr.last_name }}{% endblock %}</p>{% endif %}{% endblock %}

{% block img %}{{ usr.pk }}/avatar/{% endblock %}

{% block other %}<li><a href="https://maps.google.com/maps?q={{ usr.get_location_display }}"><i class="fa fa-map-marker"></i> {{ usr.get_location_display }}</a></li>
                        <li
                            ><a href="javascript:" ng-click="showFriendsModal()" ng-if="$parent.u.friend_count > 0"><i class="fa fa-users"></i> <strong>{% verbatim %}{{ $parent.u.friend_count }}{% endverbatim %}</strong></a
                            ><i class="fa fa-users" ng-if="$parent.u.friend_count == 0"></i>
                            <span ng-switch="$parent.u.friend_count"
                                ><span ng-switch-default>osobe su {% if rel_state > -1 %}mu{% else %}ti{% endif %} prijatelji</span
                                ><span ng-switch-when="1">osoba {% if rel_state > -1 %}mu{% else %}ti{% endif %} je prijatelj</span
                                ><span ng-switch-when="0">{% if rel_state > -1 %}Nema{% else %}Nema≈°{% endif %} prijatelja</span
                            ></span>
                        </li>
                        {% if rel_state > -1 %}<li><span ng-include="'/static/main/friend.html'" new-scope ng-init="o = [$parent.u]"></span></li>{% endif %}{% endblock %}

{% block content %}<uib-tab ng-repeat="tab in tabs" index="$index" heading="{% verbatim %}{{ tab.display }}{% endverbatim %}">
						<div class="mn1" ng-init="t = tab.name.slice(0, -1)" ng-if="objloaded[$index] || active == $index" ng-include="'/static/main/events.html'"></div>
                    </uib-tab>{% endblock %}